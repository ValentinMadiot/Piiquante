{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth/login/login.component.ts","./src/app/auth/login/login.component.html","./src/app/auth/signup/signup.component.ts","./src/app/auth/signup/signup.component.html","./src/app/header/header.component.ts","./src/app/header/header.component.html","./src/app/interceptors/auth-interceptor.ts","./src/app/models/Sauce.model.ts","./src/app/sauce-form/sauce-form.component.ts","./src/app/sauce-form/sauce-form.component.html","./src/app/sauce-list/sauce-list.component.ts","./src/app/sauce-list/sauce-list.component.html","./src/app/services/auth-guard.service.ts","./src/app/services/auth.service.ts","./src/app/services/sauces.service.ts","./src/app/single-sauce/single-sauce.component.ts","./src/app/single-sauce/single-sauce.component.html","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { SauceListComponent } from './sauce-list/sauce-list.component';\nimport { SauceFormComponent } from './sauce-form/sauce-form.component';\nimport { SingleSauceComponent } from './single-sauce/single-sauce.component';\nimport { SignupComponent } from './auth/signup/signup.component';\nimport { LoginComponent } from './auth/login/login.component';\nimport { AuthGuard } from './services/auth-guard.service';\n\nconst routes: Routes = [\n  { path: 'signup', component: SignupComponent },\n  { path: 'login', component: LoginComponent },\n  { path: 'sauces', component: SauceListComponent, canActivate: [AuthGuard] },\n  { path: 'sauce/:id', component: SingleSauceComponent, canActivate: [AuthGuard] },\n  { path: 'new-sauce', component: SauceFormComponent, canActivate: [AuthGuard] },\n  { path: 'modify-sauce/:id', component: SauceFormComponent, canActivate: [AuthGuard] },\n  { path: '', pathMatch: 'full', redirectTo: 'sauces'},\n  { path: '**', redirectTo: 'sauces' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n  providers: [AuthGuard]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n}\n","<app-header></app-header>\n<div class=\"container\">\n  <router-outlet></router-outlet>\n</div>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { SignupComponent } from './auth/signup/signup.component';\nimport { LoginComponent } from './auth/login/login.component';\nimport { SauceListComponent } from './sauce-list/sauce-list.component';\nimport { SingleSauceComponent } from './single-sauce/single-sauce.component';\nimport { SauceFormComponent } from './sauce-form/sauce-form.component';\nimport { HeaderComponent } from './header/header.component';\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { AuthInterceptor } from './interceptors/auth-interceptor';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SignupComponent,\n    LoginComponent,\n    SauceListComponent,\n    SingleSauceComponent,\n    SauceFormComponent,\n    HeaderComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    HttpClientModule,\n    ReactiveFormsModule,\n    BrowserAnimationsModule,\n    MatProgressSpinnerModule,\n    MatButtonModule\n  ],\n  providers: [{provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true}],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { catchError, EMPTY, tap } from 'rxjs';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm!: FormGroup;\n  loading!: boolean;\n  errorMsg!: string;\n\n  constructor(private formBuilder: FormBuilder,\n              private auth: AuthService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.loginForm = this.formBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, Validators.required]\n    });\n  }\n\n  onLogin() {\n    this.loading = true;\n    const email = this.loginForm.get('email')!.value;\n    const password = this.loginForm.get('password')!.value;\n    this.auth.loginUser(email, password).pipe(\n      tap(() => {\n        this.loading = false;\n        this.router.navigate(['/sauces']);\n      }),\n      catchError(error => {\n        this.loading = false;\n        this.errorMsg = error.message;\n        return EMPTY;\n      })\n    ).subscribe();\n  }\n\n}\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\n<form [formGroup]=\"loginForm\" *ngIf=\"!loading\">\n  <div class=\"form-group\">\n    <label for=\"email\">Email</label>\n    <input type=\"email\" class=\"form-control\" id=\"email\" formControlName=\"email\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"password\">Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"password\" formControlName=\"password\">\n  </div>\n  <button mat-raised-button color=\"primary\" [disabled]=\"loginForm.invalid\" (click)=\"onLogin()\">LOGIN</button>\n  <p class=\"text-danger\" *ngIf=\"errorMsg\">{{ errorMsg }}</p>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from '../../services/auth.service';\nimport { Router } from '@angular/router';\nimport { catchError, EMPTY, switchMap, tap } from 'rxjs';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.scss']\n})\nexport class SignupComponent implements OnInit {\n\n  signupForm!: FormGroup;\n  loading!: boolean;\n  errorMsg!: string;\n\n  constructor(private formBuilder: FormBuilder,\n              private auth: AuthService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.signupForm = this.formBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, Validators.required]\n    });\n  }\n\n  onSignup() {\n    this.loading = true;\n    const email = this.signupForm.get('email')!.value;\n    const password = this.signupForm.get('password')!.value;\n    this.auth.createUser(email, password).pipe(\n      switchMap(() => this.auth.loginUser(email, password)),\n      tap(() => {\n        this.loading = false;\n        this.router.navigate(['/sauces']);\n      }),\n      catchError(error => {\n        this.loading = false;\n        this.errorMsg = error.message;\n        return EMPTY;\n      })\n    ).subscribe();\n  }\n\n}\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\n<form [formGroup]=\"signupForm\" *ngIf=\"!loading\">\n  <div class=\"form-group\">\n    <label for=\"email\">Email</label>\n    <input type=\"email\" class=\"form-control\" id=\"email\" formControlName=\"email\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"password\">Password</label>\n    <input type=\"password\" class=\"form-control\" id=\"password\" formControlName=\"password\">\n  </div>\n  <button mat-raised-button color=\"primary\" [disabled]=\"signupForm.invalid\" (click)=\"onSignup()\">SIGN UP</button>\n  <p class=\"text-danger\" *ngIf=\"errorMsg\">{{ errorMsg }}</p>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\nimport { Observable, shareReplay } from 'rxjs';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n\n  isAuth$!: Observable<boolean>;\n\n  constructor(private auth: AuthService) { }\n\n  ngOnInit() {\n    this.isAuth$ = this.auth.isAuth$.pipe(\n      shareReplay(1)\n    );\n  }\n\n  onLogout() {\n    this.auth.logout();\n  }\n\n}\n","<nav>\n  <div class=\"left-nav\">\n    <ul>\n      <li>\n        <a routerLink=\"sauces\" routerLinkActive=\"active\" *ngIf=\"isAuth$ | async\">\n          ALL SAUCES\n        </a>\n      </li>\n      <li>\n        <a routerLink=\"new-sauce\" routerLinkActive=\"active\" *ngIf=\"isAuth$ | async\">\n          ADD SAUCE\n        </a>\n      </li>\n    </ul>\n  </div>\n  <div class=\"logo\">\n    <div class=\"logo-image\">\n      <img alt=\"Flame logo\" src=\"../../assets/images/flame.png\">\n    </div>\n    <div class=\"logo-text\">\n      <h1>\n        HOT TAKES\n      </h1>\n      <h5>\n        THE WEB'S BEST HOT SAUCE REVIEWS\n      </h5>\n    </div>\n  </div>\n  <div class=\"right-nav\">\n    <ul>\n      <li>\n        <a routerLink=\"signup\" routerLinkActive=\"active\" *ngIf=\"!(isAuth$ | async)\">\n          SIGN UP\n        </a>\n      </li>\n      <li>\n        <a routerLink=\"login\" routerLinkActive=\"active\" *ngIf=\"!(isAuth$ | async)\">\n          LOGIN\n        </a>\n      </li>\n      <li>\n        <a (click)=\"onLogout()\" *ngIf=\"isAuth$ | async\">\n          LOGOUT\n        </a>\n      </li>\n    </ul>\n  </div>\n</nav>\n","import { HttpHandler, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\n\n@Injectable()\nexport class AuthInterceptor implements HttpInterceptor {\n\n  constructor(private auth: AuthService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\n    const authToken = this.auth.getToken();\n    const newRequest = req.clone({\n      headers: req.headers.set('Authorization', 'Bearer ' + authToken)\n    });\n    return next.handle(newRequest);\n  }\n}\n","export class Sauce {\n  _id!: string;\n  name!: string;\n  manufacturer!: string;\n  description!: string;\n  heat!: number;\n  likes!: number;\n  dislikes!: number;\n  imageUrl!: string;\n  mainPepper!: string;\n  usersLiked!: string[];\n  usersDisliked!: string[];\n  userId!: string;\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { SaucesService } from '../services/sauces.service';\nimport { Sauce } from '../models/Sauce.model';\nimport { AuthService } from '../services/auth.service';\nimport { catchError, EMPTY, switchMap, tap } from 'rxjs';\n\n@Component({\n  selector: 'app-sauce-form',\n  templateUrl: './sauce-form.component.html',\n  styleUrls: ['./sauce-form.component.scss']\n})\nexport class SauceFormComponent implements OnInit {\n\n  sauceForm!: FormGroup;\n  mode!: string;\n  loading!: boolean;\n  sauce!: Sauce;\n  errorMsg!: string;\n  imagePreview!: string;\n\n  constructor(private formBuilder: FormBuilder,\n              private route: ActivatedRoute,\n              private router: Router,\n              private sauces: SaucesService,\n              private auth: AuthService) { }\n\n  ngOnInit() {\n    this.loading = true;\n    this.route.params.pipe(\n      switchMap(params => {\n        if (!params['id']) {\n          this.mode = 'new';\n          this.initEmptyForm();\n          this.loading = false;\n          return EMPTY;\n        } else {\n          this.mode = 'edit';\n          return this.sauces.getSauceById(params['id'])\n        }\n      }),\n      tap(sauce => {\n        if (sauce) {\n          this.sauce = sauce;\n          this.initModifyForm(sauce);\n          this.loading = false;\n        }\n      }),\n      catchError(error => this.errorMsg = JSON.stringify(error))\n    ).subscribe();\n  }\n\n  initEmptyForm() {\n    this.sauceForm = this.formBuilder.group({\n      name: [null, Validators.required],\n      manufacturer: [null, Validators.required],\n      description: [null, Validators.required],\n      image: [null, Validators.required],\n      mainPepper: [null, Validators.required],\n      heat: [1, Validators.required],\n      heatValue: [{value: 1, disabled: true}]\n    });\n    this.sauceForm.get('heat')!.valueChanges.subscribe(\n      (value) => {\n        this.sauceForm.get('heatValue')!.setValue(value);\n      }\n    );\n  }\n\n  initModifyForm(sauce: Sauce) {\n    this.sauceForm = this.formBuilder.group({\n      name: [sauce.name, Validators.required],\n      manufacturer: [sauce.manufacturer, Validators.required],\n      description: [sauce.description, Validators.required],\n      image: [sauce.imageUrl, Validators.required],\n      mainPepper: [sauce.mainPepper, Validators.required],\n      heat: [sauce.heat, Validators.required],\n      heatValue: [{value: sauce.heat, disabled: true}]\n    });\n    this.sauceForm.get('heat')!.valueChanges.subscribe(\n      (value) => {\n        this.sauceForm.get('heatValue')!.setValue(value);\n      }\n    );\n    this.imagePreview = this.sauce.imageUrl;\n  }\n\n  onSubmit() {\n    this.loading = true;\n    const newSauce = new Sauce();\n    newSauce.name = this.sauceForm.get('name')!.value;\n    newSauce.manufacturer = this.sauceForm.get('manufacturer')!.value;\n    newSauce.description = this.sauceForm.get('description')!.value;\n    newSauce.mainPepper = this.sauceForm.get('mainPepper')!.value;\n    newSauce.heat = this.sauceForm.get('heat')!.value;\n    newSauce.userId = this.auth.getUserId();\n    if (this.mode === 'new') {\n      this.sauces.createSauce(newSauce, this.sauceForm.get('image')!.value).pipe(\n        tap(({ message }) => {\n          console.log(message);\n          this.loading = false;\n          this.router.navigate(['/sauces']);\n        }),\n        catchError(error => {\n          console.error(error);\n          this.loading = false;\n          this.errorMsg = error.message;\n          return EMPTY;\n        })\n      ).subscribe();\n    } else if (this.mode === 'edit') {\n      this.sauces.modifySauce(this.sauce._id, newSauce, this.sauceForm.get('image')!.value).pipe(\n        tap(({ message }) => {\n          console.log(message);\n          this.loading = false;\n          this.router.navigate(['/sauces']);\n        }),\n        catchError(error => {\n          console.error(error);\n          this.loading = false;\n          this.errorMsg = error.message;\n          return EMPTY;\n        })\n      ).subscribe();\n    }\n  }\n\n  onFileAdded(event: Event) {\n    const file = (event.target as HTMLInputElement).files![0];\n    this.sauceForm.get('image')!.setValue(file);\n    this.sauceForm.updateValueAndValidity();\n    const reader = new FileReader();\n    reader.onload = () => {\n      this.imagePreview = reader.result as string;\n    };\n    reader.readAsDataURL(file);\n  }\n}\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\n<form [formGroup]=\"sauceForm\" *ngIf=\"!loading\">\n  <div class=\"form-group\">\n    <label for=\"name\">Name</label>\n    <input type=\"text\" class=\"form-control\" id=\"name\" formControlName=\"name\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"manufacturer\">Manufacturer</label>\n    <input type=\"text\" class=\"form-control\" id=\"manufacturer\" formControlName=\"manufacturer\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"description\">Description</label>\n    <textarea class=\"form-control\" id=\"description\" rows=\"5\" formControlName=\"description\"></textarea>\n  </div>\n  <div class=\"form-group\">\n    <input type=\"file\" accept=\"image/*\" #imageInput (change)=\"onFileAdded($event)\">\n    <button mat-raised-button color=\"primary\" (click)=\"imageInput.click()\">ADD IMAGE</button>\n    <img [src]=\"imagePreview\" *ngIf=\"imagePreview\" style=\"max-height: 100px;display:block;margin-top:10px\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"main-pepper\">Main Pepper Ingredient</label>\n    <input type=\"text\" class=\"form-control\" id=\"main-pepper\" formControlName=\"mainPepper\">\n  </div>\n  <div class=\"form-group\">\n    <label for=\"heat\">Heat</label>\n    <div class=\"heat-container\">\n      <input type=\"range\" class=\"custom-range heat-range\" min=\"1\" max=\"10\" id=\"heat\" formControlName=\"heat\">\n      <input type=\"number\" class=\"form-control heat-reading\" formControlName=\"heatValue\">\n    </div>\n  </div>\n  <button mat-raised-button color=\"primary\" (click)=\"onSubmit()\" [disabled]=\"sauceForm.invalid\">SUBMIT</button>\n</form>\n","import { Component, OnInit } from '@angular/core';\nimport { SaucesService } from '../services/sauces.service';\nimport { catchError, Observable, of, tap } from 'rxjs';\nimport { Sauce } from '../models/Sauce.model';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-sauce-list',\n  templateUrl: './sauce-list.component.html',\n  styleUrls: ['./sauce-list.component.scss']\n})\nexport class SauceListComponent implements OnInit {\n\n  sauces$!: Observable<Sauce[]>;\n  loading!: boolean;\n  errorMsg!: string;\n\n  constructor(private sauce: SaucesService,\n              private router: Router) { }\n\n  ngOnInit() {\n    this.loading = true;\n    this.sauces$ = this.sauce.sauces$.pipe(\n      tap(() => {\n        this.loading = false;\n        this.errorMsg = '';\n      }),\n      catchError(error => {\n        this.errorMsg = JSON.stringify(error);\n        this.loading = false;\n        return of([]);\n      })\n    );\n    this.sauce.getSauces();\n  }\n\n  onClickSauce(id: string) {\n    this.router.navigate(['sauce', id]);\n  }\n\n}\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\n<ng-container *ngIf=\"sauces$ | async as sauces\">\n  <p *ngIf=\"!loading && sauces.length <= 0\">\n    No sauces to display!\n  </p>\n  <p class=\"list-title\" *ngIf=\"!loading && sauces.length > 0\">THE SAUCES</p>\n  <div class=\"sauce-list\" *ngIf=\"!loading && sauces.length  > 0\">\n    <div class=\"sauce-list-item\" *ngFor=\"let sauce of sauces\" (click)=\"onClickSauce(sauce._id)\">\n      <img alt=\"Hot sauce bottle\" [src]=\"sauce.imageUrl\">\n      <h4>{{ sauce.name | uppercase }}</h4>\n      <p>Heat: {{ sauce.heat }}/10</p>\n    </div>\n  </div>\n</ng-container>\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Observable, take, tap } from 'rxjs';\nimport { AuthService } from './auth.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n  constructor(private auth: AuthService,\n              private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot,\n              state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.isAuth$.pipe(\n      take(1),\n      tap(auth => {\n        if (!auth) {\n          this.router.navigate(['/login']);\n        }\n      })\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, tap } from 'rxjs';\nimport { Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  isAuth$ = new BehaviorSubject<boolean>(false);\n  private authToken = '';\n  private userId = '';\n\n  constructor(private http: HttpClient,\n              private router: Router) {}\n\n  createUser(email: string, password: string) {\n    return this.http.post<{ message: string }>('http://localhost:3000/api/auth/signup', {email: email, password: password});\n  }\n\n  getToken() {\n    return this.authToken;\n  }\n\n  getUserId() {\n    return this.userId;\n  }\n\n  loginUser(email: string, password: string) {\n    return this.http.post<{ userId: string, token: string }>('http://localhost:3000/api/auth/login', {email: email, password: password}).pipe(\n      tap(({ userId, token }) => {\n        this.userId = userId;\n        this.authToken = token;\n        this.isAuth$.next(true);\n      })\n    );\n  }\n\n  logout() {\n    this.authToken = '';\n    this.userId = '';\n    this.isAuth$.next(false);\n    this.router.navigate(['login']);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { catchError, mapTo, of, Subject, tap, throwError } from 'rxjs';\nimport { Sauce } from '../models/Sauce.model';\nimport { HttpClient } from '@angular/common/http';\nimport { AuthService } from './auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SaucesService {\n\n  sauces$ = new Subject<Sauce[]>();\n\n  constructor(private http: HttpClient,\n              private auth: AuthService) {}\n\n  getSauces() {\n    this.http.get<Sauce[]>('http://localhost:3000/api/sauces').pipe(\n      tap(sauces => this.sauces$.next(sauces)),\n      catchError(error => {\n        console.error(error.error.message);\n        return of([]);\n      })\n    ).subscribe();\n  }\n\n  getSauceById(id: string) {\n    return this.http.get<Sauce>('http://localhost:3000/api/sauces/' + id).pipe(\n      catchError(error => throwError(error.error.message))\n    );\n  }\n\n  likeSauce(id: string, like: boolean) {\n    return this.http.post<{ message: string }>(\n      'http://localhost:3000/api/sauces/' + id + '/like',\n      { userId: this.auth.getUserId(), like: like ? 1 : 0 }\n    ).pipe(\n      mapTo(like),\n      catchError(error => throwError(error.error.message))\n    );\n  }\n\n  dislikeSauce(id: string, dislike: boolean) {\n    return this.http.post<{ message: string }>(\n      'http://localhost:3000/api/sauces/' + id + '/like',\n      { userId: this.auth.getUserId(), like: dislike ? -1 : 0 }\n    ).pipe(\n      mapTo(dislike),\n      catchError(error => throwError(error.error.message))\n    );\n  }\n\n  createSauce(sauce: Sauce, image: File) {\n    const formData = new FormData();\n    formData.append('sauce', JSON.stringify(sauce));\n    formData.append('image', image);\n    return this.http.post<{ message: string }>('http://localhost:3000/api/sauces', formData).pipe(\n      catchError(error => throwError(error.error.message))\n    );\n  }\n\n  modifySauce(id: string, sauce: Sauce, image: string | File) {\n    if (typeof image === 'string') {\n      return this.http.put<{ message: string }>('http://localhost:3000/api/sauces/' + id, sauce).pipe(\n        catchError(error => throwError(error.error.message))\n      );\n    } else {\n      const formData = new FormData();\n      formData.append('sauce', JSON.stringify(sauce));\n      formData.append('image', image);\n      return this.http.put<{ message: string }>('http://localhost:3000/api/sauces/' + id, formData).pipe(\n        catchError(error => throwError(error.error.message))\n      );\n    }\n  }\n\n  deleteSauce(id: string) {\n    return this.http.delete<{ message: string }>('http://localhost:3000/api/sauces/' + id).pipe(\n      catchError(error => throwError(error.error.message))\n    );\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Sauce } from '../models/Sauce.model';\nimport { SaucesService } from '../services/sauces.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\nimport { catchError, EMPTY, map, Observable, of, switchMap, take, tap } from 'rxjs';\n\n@Component({\n  selector: 'app-single-sauce',\n  templateUrl: './single-sauce.component.html',\n  styleUrls: ['./single-sauce.component.scss']\n})\nexport class SingleSauceComponent implements OnInit {\n\n  loading!: boolean;\n  sauce$!: Observable<Sauce>;\n  userId!: string;\n  likePending!: boolean;\n  liked!: boolean;\n  disliked!: boolean;\n  errorMessage!: string;\n\n  constructor(private sauces: SaucesService,\n    private route: ActivatedRoute,\n    private auth: AuthService,\n    private router: Router) { }\n\n  ngOnInit() {\n    this.userId = this.auth.getUserId();\n    this.loading = true;\n    this.userId = this.auth.getUserId();\n    this.sauce$ = this.route.params.pipe(\n      map(params => params['id']),\n      switchMap(id => this.sauces.getSauceById(id)),\n      tap(sauce => {\n        this.loading = false;\n        if (sauce.usersLiked.find(user => user === this.userId)) {\n          this.liked = true;\n        } else if (sauce.usersDisliked.find(user => user === this.userId)) {\n          this.disliked = true;\n        }\n      })\n    );\n  }\n\n  onLike() {\n    if (this.disliked) {\n      return;\n    }\n    this.likePending = true;\n    this.sauce$.pipe(\n      take(1),\n      switchMap((sauce: Sauce) => this.sauces.likeSauce(sauce._id, !this.liked).pipe(\n        tap(liked => {\n          this.likePending = false;\n          this.liked = liked;\n        }),\n        map(liked => ({ ...sauce, likes: liked ? sauce.likes + 1 : sauce.likes - 1 })),\n        tap(sauce => this.sauce$ = of(sauce))\n      )),\n    ).subscribe();\n  }\n\n  onDislike() {\n    if (this.liked) {\n      return;\n    }\n    this.likePending = true;\n    this.sauce$.pipe(\n      take(1),\n      switchMap((sauce: Sauce) => this.sauces.dislikeSauce(sauce._id, !this.disliked).pipe(\n        tap(disliked => {\n          this.likePending = false;\n          this.disliked = disliked;\n        }),\n        map(disliked => ({ ...sauce, dislikes: disliked ? sauce.dislikes + 1 : sauce.dislikes - 1 })),\n        tap(sauce => this.sauce$ = of(sauce))\n      )),\n    ).subscribe();\n  }\n\n  onBack() {\n    this.router.navigate(['/sauces']);\n  }\n\n  onModify() {\n    this.sauce$.pipe(\n      take(1),\n      tap(sauce => this.router.navigate(['/modify-sauce', sauce._id]))\n    ).subscribe();\n  }\n\n  onDelete() {\n    this.loading = true;\n    this.sauce$.pipe(\n      take(1),\n      switchMap(sauce => this.sauces.deleteSauce(sauce._id)),\n      tap(message => {\n        console.log(message);\n        this.loading = false;\n        this.router.navigate(['/sauces']);\n      }),\n      catchError(error => {\n        this.loading = false;\n        this.errorMessage = error.message;\n        console.error(error);\n        return EMPTY;\n      })\n    ).subscribe();\n  }\n}\n","<mat-spinner *ngIf=\"loading\"></mat-spinner>\n<div class=\"sauce-container\" *ngIf=\"sauce$ | async as sauce\">\n  <img [src]=\"sauce?.imageUrl\" alt=\"\">\n  <div class=\"sauce-info\">\n    <h1 class=\"sauce-name\">{{ sauce?.name }}</h1>\n    <p class=\"manufacturer\">by {{ sauce?.manufacturer }}</p>\n    <h3>Description</h3>\n    <p>{{ sauce.description }}</p>\n    <div class=\"like-buttons\" *ngIf=\"!likePending\">\n      <div class=\"likes\">\n        <i [ngClass]=\"{ 'fas liked': liked, 'far': !liked, 'disabled': disliked }\" class=\"like fa-thumbs-up fa-lg\" (click)=\"onLike()\"></i>\n        <span>{{ sauce.likes }}</span>\n      </div>\n      <div class=\"dislikes\">\n        <i [ngClass]=\"{ 'fas disliked': disliked, 'far': !disliked, 'disabled': liked }\" class=\"dislike fa-thumbs-down fa-lg\" (click)=\"onDislike()\"></i>\n        <span>{{ sauce.dislikes }}</span>\n      </div>\n    </div>\n    <div class=\"like-pending\" *ngIf=\"likePending\">\n      <mat-spinner class=\"white-spinner\"></mat-spinner>\n    </div>\n    <div class=\"control-buttons\">\n      <button mat-raised-button (click)=\"onBack()\">BACK</button>\n      <button mat-raised-button color=\"primary\" (click)=\"onModify()\" *ngIf=\"userId === sauce.userId\">MODIFY</button>\n      <button mat-raised-button color=\"warn\" (click)=\"onDelete()\" *ngIf=\"userId === sauce.userId\">DELETE</button>\n    </div>\n  </div>\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["shareReplay","i0","ctx_r5","HeaderComponent","constructor","auth","ngOnInit","isAuth$","pipe","onLogout","logout","selectors","decls","vars","consts","template","catchError","of","tap","ctx_r8","SauceListComponent","sauce","router","loading","sauces$","errorMsg","error","JSON","stringify","getSauces","onClickSauce","id","navigate","EMPTY","map","switchMap","take","ctx_r7","ctx_r9","ctx_r11","ctx_r13","ctx_r15","SingleSauceComponent","sauces","route","userId","getUserId","sauce$","params","getSauceById","usersLiked","find","user","liked","usersDisliked","disliked","onLike","likePending","likeSauce","_id","Object","likes","subscribe","onDislike","dislikeSauce","dislikes","onBack","onModify","onDelete","deleteSauce","message","console","log","errorMessage"],"sourceRoot":"webpack:///"}